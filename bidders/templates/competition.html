{% extends "base.html"%}
{% block content %}
<!-- {{competitions}} -->
<div class="container">
    {% if competitions != [] %}
        <main class="container form-signin w-50 m-auto">
            <form method="POST">
                {{ form.hidden_tag() }}
                <h1 class="h3 mb-3 fw-normal">Entrez votre pseudonyme pour participer</h1>
                <div class="form-floating">
                <!-- <input type="text" class="form-control" id="floatingInput" placeholder="name@example.com"> -->
                {{form.username(class="form-control", id="floatingInput")}}
                <!-- <label for="floatingInput">Pseudonyme</label> -->
                {{form.username.label(for="floatingInput")}}
                </div>
                <div class="form-floating">
                </div>
            
                <div class="form-check text-start my-3">
                <input class="form-check-input" type="checkbox" value="remember-me" id="flexCheckDefault">
                <label class="form-check-label" for="flexCheckDefault" required>
                    J'accepte d'envoyer mes données à des fin de collecte de données.
                </label>
                </div>
                <!-- <button class="btn btn-primary w-100 py-2" type="submit">Rejoindre</button> -->
                {{ form.submit(class="btn btn-primary w-100 py-2", type="submit") }}
            </form>
          </main>
    {% else %}
        <h1 class="position-absolute top-50 start-50 translate-middle">En attente de la création d'une compétition...</h1>
    {% endif %}
</div>
<script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
<script src="https://cdn.socket.io/4.6.0/socket.io.min.js" integrity="sha384-c79GN5VsunZvi+Q/WObgk2in0CbZsHnjEqvFxC5DxHn9lTfNce2WW6h2pH6u/kF+" crossorigin="anonymous"></script>
<script type="text/javascript">
    // socket_bidder = io.connect('http://127.0.0.1:38400');
    // socket_bidder.on('reload', function(msg) {
    //     location.reload();
    // });
</script>
{% endblock %}
